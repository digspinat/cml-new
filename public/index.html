<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.30.2" />

  <title>Carmanuls Lib: USD</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cml-new.netlify.com/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cml-new.netlify.com/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="https://cml-new.netlify.com/css/blackburn.css">

  
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">

  
  
  <link rel="alternate" type="application/rss+xml" title="Carmanuls Lib: USD" href="https://cml-new.netlify.com/index.xml" />
  

  
  
  
  
  
  

  <link rel="shortcut icon" href="https://cml-new.netlify.com/img/favicon.ico" type="image/x-icon" />

  
  
  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cml-new.netlify.com/js/algolia.js"></script>
</head>


<body>
  <div class="mainLayout">
    <div class="pure-g mainMenu">
        <div class="mainMenuLayout pure-u-22-24">
          <div class="custom-wrapper pure-g" id="menu">
    <div class="pure-u-1 pure-u-md-1-3">
        <div class="custom-brand">
            <a href="https://cml-new.netlify.com/usd" class="pure-menu-heading">Carmanuls Lib</a>
            <a href="#" class="custom-toggle" id="toggle" ><s class="bar"></s><s class="bar"></s></a>
        </div>
    </div>
    <div class="pure-u-1 pure-u-md-1-3">
    </div>
    <div class="pure-u-1 pure-u-md-1-3">
        <div class="pure-menu pure-menu-horizontal custom-menu-3 custom-can-transform">
            <ul class="pure-menu-list myMainMenu">
              
                
                  <li class="pure-menu-item"><a href="https://cml-new.netlify.com/" class="">Home</a></li>
                
              

              
                
                  <li class="pure-menu-item"><a href="https://cml-new.netlify.com/faq/" class="">FAQ</a></li>
                
              
                
                  <li class="pure-menu-item"><a href="https://cml-new.netlify.com/contact/" class="">Contact</a></li>
                
              
                
              
                
                  <li class="pure-menu-item"><a href="https://cml-new.netlify.com/about-us/" class="">About us</a></li>
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
              <li class="pure-menu-item "><a class="myPurchase" href="https://transactions.sendowl.com/cart?merchant_id=106370" rel="nofollow">Purchase<script type="text/javascript" src="https://transactions.sendowl.com/assets/sendowl.js" ></script></a></li>
            </ul>
        </div>
    </div>
</div>

        </div>
    </div>
    <div class="pure-g subMenu">
        <div class="pure-u-1-24 subChangeLayout" style=""></div>
        <div class="pure-u-22-24">
            <div class="pure-menu pure-menu-horizontal pure-menu-scrollable">
    <ul class="pure-menu-list">
      <li class="pure-menu-item subMenuItem"><a href="https://cml-new.netlify.com/usd" class="pure-menu-link myElement">All Manuals</a></li>
      
      
      
        
        <li class="pure-menu-item subMenuItem"><a href="https://cml-new.netlify.com/makes/audi" class="pure-menu-link myElement">Audi</a></li>
        
        <li class="pure-menu-item subMenuItem"><a href="https://cml-new.netlify.com/makes/bmw" class="pure-menu-link myElement">BMW</a></li>
        
        <li class="pure-menu-item subMenuItem"><a href="https://cml-new.netlify.com/makes/mercedes" class="pure-menu-link myElement">Mercedes</a></li>
        
      
    </ul>
</div>

        </div>
        <div class="pure-u-1-24 subChangeLayout"></div>
    </div>
    <div class="contentLayout">
      <div class="MainHeaderLayout">
        <h2 id="HeaderTitle">
          Carmanuls Lib
        </h2>
      </div>

  <div class="mainContentLayout">
    <div class="main">
  <div class="leftAlgolia">
    <div class="FilterArea">
	<header>
		<h5 class="headerFilter">Filter</h5>
		<div class="pure-g serachBox">
			<div class="pure-u-1">
				<form class="pure-form">
					<input class="pure-input-1 pure-input-rounded" type="text" id="searchInput" placeholder="Search by Title" >
				</form>
			</div>
		</div>
	</header>
	<div class="Brand">
		<h5 class="FilterTitle">Brand</h5>
		<div id="myBrand">

		</div>
	</div>
	<div class="Brand">
		<h5 class="FilterTitle">Series</h5>
		<div id="mySeries">

		</div>
	</div>
	<div class="Brand">
		<h5 class="FilterTitle">Sub Series</h5>
		<div id="mySubseries">

		</div>
	</div>
	<div class="Brand">
		<h5 class="FilterTitle">Years</h5>
		<div id="myYears">

		</div>
	</div>
	<div class="Brand">
		<h5 class="FilterTitle">Platform</h5>
		<div id="myPlatform">

		</div>
	</div>
</div>

  </div>
  <div class="rightProduct">
    <div class="pure-g" id="productData">
        
          
        
          
        
          
            <div class="pure-u-1 pure-u-md-1-3">
              <div class="productBox">
                <div class="productImage">
                  <a href="https://cml-new.netlify.com/usd/103003/"><img src="https://cmlc.imgix.net/Images/covers/cml/c/103003.jpg" alt=""></a>
                </div>
                <div class="productDesc">
                  <a href="https://cml-new.netlify.com/usd/103003/">USD 103003 | BMW  5 series | Service &amp; repair manual |E60 (saloon) E61(wagon) | 2003 -2010</a><br>
                  Rating: 
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                  
                  <ul>
                      <li>Make: BMW</li>
                      <li>Series: 5 Serie</li>
                      <li>Subseries: --</li>
                      <li>Platform: E60 (saloon) E61 (wagon)</li>
                      <li>Year: 2003 - 2010</li>
                  </ul>

                  <a href="https://cml-new.netlify.com/usd/103003/" class="ProductBorderButton">Price: 19.95</a>
                </div>
              </div>
            </div>
          
        
          
        
          
            <div class="pure-u-1 pure-u-md-1-3">
              <div class="productBox">
                <div class="productImage">
                  <a href="https://cml-new.netlify.com/usd/103006/"><img src="https://cmlc.imgix.net/Images/covers/cml/c/103006.jpg" alt=""></a>
                </div>
                <div class="productDesc">
                  <a href="https://cml-new.netlify.com/usd/103006/">USD 103006 | Audi A4 B8 - 8K | Service &amp; repair manual | 2008 - 2014 | </a><br>
                  Rating: 
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                  
                  <ul>
                      <li>Make: Audi</li>
                      <li>Series: A4</li>
                      <li>Subseries: --</li>
                      <li>Platform: B8 - 8K</li>
                      <li>Year: 2008-2014</li>
                  </ul>

                  <a href="https://cml-new.netlify.com/usd/103006/" class="ProductBorderButton">Price: 19.95</a>
                </div>
              </div>
            </div>
          
        
          
            <div class="pure-u-1 pure-u-md-1-3">
              <div class="productBox">
                <div class="productImage">
                  <a href="https://cml-new.netlify.com/usd/103004/"><img src="https://cmlc.imgix.net/Images/covers/cml/c/103004.jpg" alt=""></a>
                </div>
                <div class="productDesc">
                  <a href="https://cml-new.netlify.com/usd/103004/">USD 103004 | Audi TT (MK2) Workshop manual (8J) | 2006 - 2014 Roadster &#43; Coupe </a><br>
                  Rating: 
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                  
                  <ul>
                      <li>Make: Audi</li>
                      <li>Series: TT</li>
                      <li>Subseries: --</li>
                      <li>Platform: Mk2 (Type 8J)</li>
                      <li>Year: 2006-2014</li>
                  </ul>

                  <a href="https://cml-new.netlify.com/usd/103004/" class="ProductBorderButton">Price: 19.95</a>
                </div>
              </div>
            </div>
          
        
          
            <div class="pure-u-1 pure-u-md-1-3">
              <div class="productBox">
                <div class="productImage">
                  <a href="https://cml-new.netlify.com/usd/103007/"><img src="https://cmlc.imgix.net/Images/covers/cml/c/103007.jpg" alt=""></a>
                </div>
                <div class="productDesc">
                  <a href="https://cml-new.netlify.com/usd/103007/">USD 103007 | BMW E46 (3 Series) | Service &amp; repair manual | 1999 -2005</a><br>
                  Rating: 
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                  
                  <ul>
                      <li>Make: BMW</li>
                      <li>Series: 3 Serie</li>
                      <li>Subseries: --</li>
                      <li>Platform: E46</li>
                      <li>Year: 1999 -2005</li>
                  </ul>

                  <a href="https://cml-new.netlify.com/usd/103007/" class="ProductBorderButton">Price: 19.95</a>
                </div>
              </div>
            </div>
          
        
          
            <div class="pure-u-1 pure-u-md-1-3">
              <div class="productBox">
                <div class="productImage">
                  <a href="https://cml-new.netlify.com/usd/103008/"><img src="https://cmlc.imgix.net/Images/covers/cml/c/103008.jpg" alt=""></a>
                </div>
                <div class="productDesc">
                  <a href="https://cml-new.netlify.com/usd/103008/">USD 103008 | BMW E90/E91/E92/E93/ Service and repair manual | 2004-2013</a><br>
                  Rating: 
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                  
                    <span class='empty-myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                  <ul>
                      <li>Make: BMW</li>
                      <li>Series: 3-Series</li>
                      <li>Subseries: --</li>
                      <li>Platform: E90/E91/E92/E93</li>
                      <li>Year: 2004-2013</li>
                  </ul>

                  <a href="https://cml-new.netlify.com/usd/103008/" class="ProductBorderButton">Price: 19.95</a>
                </div>
              </div>
            </div>
          
        
          
            <div class="pure-u-1 pure-u-md-1-3">
              <div class="productBox">
                <div class="productImage">
                  <a href="https://cml-new.netlify.com/usd/103001/"><img src="https://cmlc.imgix.net/Images/covers/cml/c/103001.jpg" alt=""></a>
                </div>
                <div class="productDesc">
                  <a href="https://cml-new.netlify.com/usd/103001/">xx 103001 USD | BMW X5 (E70) | Service &amp; repair manual | 2006 - 2013</a><br>
                  Rating: 
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                  
                  <ul>
                      <li>Make: BMW</li>
                      <li>Series: X-Serie</li>
                      <li>Subseries: X5</li>
                      <li>Platform: E70</li>
                      <li>Year: 2006 - 2013</li>
                  </ul>

                  <a href="https://cml-new.netlify.com/usd/103001/" class="ProductBorderButton">Price: 19.95</a>
                </div>
              </div>
            </div>
          
        
          
            <div class="pure-u-1 pure-u-md-1-3">
              <div class="productBox">
                <div class="productImage">
                  <a href="https://cml-new.netlify.com/usd/103002/"><img src="https://cmlc.imgix.net/Images/covers/cml/c/103002.jpg" alt=""></a>
                </div>
                <div class="productDesc">
                  <a href="https://cml-new.netlify.com/usd/103002/">103002 USD | Mercedes Benz (M-Class) ML (W163) | Service  &amp; repair manual |1997 - 2005 | Petrol &amp; diesel</a><br>
                  Rating: 
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                    <span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                  
                    <span class='empty-myStart'><i class='fa fa-star' aria-hidden='true'></i></span>
                  
                  <ul>
                      <li>Make: Mercedes</li>
                      <li>Series: M-Class</li>
                      <li>Subseries: ML</li>
                      <li>Platform: W163</li>
                      <li>Year: 1997 - 2005</li>
                  </ul>

                  <a href="https://cml-new.netlify.com/usd/103002/" class="ProductBorderButton">Price: 19.95</a>
                </div>
              </div>
            </div>
          
        
    </div>
    <div class="myPagination">
      <div class="pagination" id="MyPaginationHere">

      </div>
    </div>
  </div>
</div>
<input type="hidden" value="usd" id="myLang1">
<script type="text/javascript">
  var client = algoliasearch("YZO8M6AZ6J", "74516bbcef74ec917e2acbcd0df2df0f");
  var index = client.initIndex('cml-new');
  var searchBrand = $("#display_brand").val();
  var myLang = $("#myLang1").val();
  $(document).ready(function(){
  var client = algoliasearch("YZO8M6AZ6J", "74516bbcef74ec917e2acbcd0df2df0f");
  var index = client.initIndex('cml-new');
  var searchBrand = $("#display_brand").val();
  var Currency = [];
  Currency.push("currency:"+myLang)
  if(searchBrand){
    var mainSearch = [], BrandArray = [];
    BrandArray.push("make:"+searchBrand);
    mainSearch.push(BrandArray);
    mainSearch.push(Currency);
    index.search({
      query: '*',
      hitsPerPage: 9,
      facetFilters: mainSearch,
      facets: ['make','series','subseries','years','platform']
    }).then(res => {

      var BrandText = ""
      var SeriesText = ""
      var SubSeriesText = ""
      var YearsText = ""
      var PlatformText = ""
      var manualBrand = res.facets['make'];
      var manualSeries = res.facets['series'];
      var manualSubseries = res.facets['subseries']
      var manualYears = res.facets['years']
      var manualPlatform = res.facets['platform']

      $.each( manualBrand, function( key, value ) {
        BrandText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchBrand mySearch'><span class='checkmark'></span></label>";
      });
      $("#myBrand").html(BrandText);

      $.each( manualSeries, function( key, value ) {
        SeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSeries mySearch'><span class='checkmark'></span></label>";
      });
      $("#mySeries").html(SeriesText);

      $.each( manualSubseries, function( key, value ) {
        SubSeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSubSeries mySearch'><span class='checkmark'></span></label>";
      });
      $("#mySubseries").html(SubSeriesText);

      $.each( manualYears, function( key, value ) {
        YearsText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchYears mySearch'><span class='checkmark'></span></label>";
      });
      $("#myYears").html(YearsText);

      $.each( manualPlatform, function( key, value ) {
        PlatformText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSubSeries mySearch'><span class='checkmark'></span></label>";
      });
      $("#myPlatform").html(PlatformText);
      console.log(res);
      var pagination = "<a id='PreviousPage' href='#'>&laquo;</a>"+
      "<a id='currentPage' data-id='0'>Page: 1 Of "+res['nbPages']+"</a>"+
      "<a id='NextPage' href='#'>&raquo;</a>";
      $("#MyPaginationHere").html(pagination)
    });
  }else{
    var Currency = [], mainSearch = [];
    Currency.push("currency:"+myLang)
    mainSearch.push(Currency);
    index.search({
      query: '*',
      hitsPerPage: 9,
      facetFilters: mainSearch,
      facets: ['make','series','subseries','years','platform']
    }).then(res => {

      var BrandText = ""
      var SeriesText = ""
      var SubSeriesText = ""
      var YearsText = ""
      var PlatformText = ""
      var manualBrand = res.facets['make'];
      var manualSeries = res.facets['series'];
      var manualSubseries = res.facets['subseries']
      var manualYears = res.facets['years']
      var manualPlatform = res.facets['platform']

      $.each( manualBrand, function( key, value ) {
        BrandText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchBrand mySearch'><span class='checkmark'></span></label>";
      });
      $("#myBrand").html(BrandText);

      $.each( manualSeries, function( key, value ) {
        SeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSeries mySearch'><span class='checkmark'></span></label>";
      });
      $("#mySeries").html(SeriesText);

      $.each( manualSubseries, function( key, value ) {
        SubSeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSubSeries mySearch'><span class='checkmark'></span></label>";
      });
      $("#mySubseries").html(SubSeriesText);

      $.each( manualYears, function( key, value ) {
        YearsText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchYears mySearch'><span class='checkmark'></span></label>";
      });
      $("#myYears").html(YearsText);

      $.each( manualPlatform, function( key, value ) {
        PlatformText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchPlatform mySearch'><span class='checkmark'></span></label>";
      });
      $("#myPlatform").html(PlatformText);

      
      var pagination = "<a id='PreviousPage' href='#'>&laquo;</a>"+
      "<a id='currentPage' data-id='0'>Page: 1 Of "+res['nbPages']+"</a>"+
      "<a id='NextPage' href='#'>&raquo;</a>";
      $("#MyPaginationHere").html(pagination)
    });
  }
});
$(document).on('click','.mySearch',function(){
  if(this.checked){
    var MainSearch = []
    var BrandSearch = [], BrandArray = [];
    var SeriesSearch = [], SeriesArray = [];
    var SubseriesSearch = [], SubseriesArray = [];
    var YearSerach = [], YearArray = [];
    var PlatformSearch = [], PlatformArray = [];
    var Currency = [];
    Currency.push("currency:"+myLang)
    if(searchBrand){
      BrandSearch.push("make:"+searchBrand);
      $('.searchBrand').each(function(){
        if (this.checked) {
          if(searchBrand == "Bmw"){
            BrandArray.push("BMW");
          }else{
            BrandArray.push(searchBrand);
          }
        }
      });
    }else{
      $('.searchBrand').each(function(){
        if (this.checked) {
          BrandSearch.push("make:"+$(this).val());
          BrandArray.push($(this).val());
        }
      });
    }
    $('.searchSeries').each(function(){
      if (this.checked) {
        SeriesSearch.push("series:"+$(this).val());
        SeriesArray.push($(this).val());
      }
    });
    $('.searchSubSeries').each(function(){
      if (this.checked) {
        SubseriesSearch.push("subseries:"+$(this).val());
        SubseriesArray.push($(this).val());
      }
    });
    $('.searchYears').each(function(){
      if (this.checked) {
        YearSerach.push("years:"+$(this).val());
        YearArray.push($(this).val());
      }
    });
    $('.searchPlatform').each(function(){
      if (this.checked) {
        PlatformSearch.push("platform:"+$(this).val());
        PlatformArray.push($(this).val());
      }
    });

    MainSearch.push(BrandSearch);
    MainSearch.push(SeriesSearch);
    MainSearch.push(SubseriesSearch);
    MainSearch.push(YearSerach);
    MainSearch.push(PlatformSearch);
    MainSearch.push(Currency);
    index.search({
      query: '*',
      hitsPerPage: 9,
      facetFilters: MainSearch,
      facets: ['make','series','subseries','years','platform']
    }).then(res => {

      var BrandText = ""
      var SeriesText = ""
      var SubSeriesText = ""
      var YearsText = ""
      var PlatformText = ""
      var manualBrand = res.facets['make'];
      var manualSeries = res.facets['series'];
      var manualSubseries = res.facets['subseries']
      var manualYears = res.facets['years']
      var manualPlatform = res.facets['platform']

      $.each( manualBrand, function( key, value ) {
        if($.inArray(key,BrandArray) != -1){
          BrandText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchBrand mySearch' checked><span class='checkmark'></span></label>";
        }else{
          BrandText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchBrand mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#myBrand").html(BrandText);

      $.each( manualSeries, function( key, value ) {
        if($.inArray(key,SeriesArray) != -1){
          SeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSeries mySearch' checked><span class='checkmark'></span></label>";
        }else{
          SeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSeries mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#mySeries").html(SeriesText);

      $.each( manualSubseries, function( key, value ) {
        if($.inArray(key,SubseriesArray) != -1){
          SubSeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSubSeries mySearch' checked><span class='checkmark'></span></label>";
        }else{
          SubSeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSubSeries mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#mySubseries").html(SubSeriesText);

      $.each( manualYears, function( key, value ) {
        if($.inArray(key,YearArray) != -1){
          YearsText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchYears mySearch' checked><span class='checkmark'></span></label>";
        }else{
          YearsText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchYears mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#myYears").html(YearsText);

      $.each( manualPlatform, function( key, value ) {
        if($.inArray(key,PlatformArray) != -1){
          PlatformText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchPlatform mySearch' checked><span class='checkmark'></span></label>";
        }else{
          PlatformText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchPlatform mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#myPlatform").html(PlatformText);

      var prodcuct = ""
      $.each(res.hits, function( i, val ){
        prodcuct += "<div class='pure-u-1 pure-u-md-1-3'>"+
          "<div class='productBox'>"+
            "<div class='productImage'>"+
              "<a href='https:\/\/cml-new.netlify.com\/"+val['url']+"'><img src='"+val['catimage']+"' alt=''></a>"+
            "</div>"+
            "<div class='productDesc'>"+
              "<a href='https:\/\/cml-new.netlify.com\/"+val['url']+"'>"+val['manualname']+"</a><br>Rating: ";
              var empty = 5-val['rate'];
              for(var j=1;j<=val['rate'];j++){
                prodcuct += "<span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>"
              }
              for(var k=1;k<=empty;k++){
                prodcuct += "<span class='empty-myStart'><i class='fa fa-star' aria-hidden='true'></i></span>"
              }
        prodcuct += "<ul>"+
                  "<li>Make: "+val['make']+"</li>"+
                  "<li>Series: "+val['series']+"</li>"+
                  "<li>Subseries: "+val['subseries']+"</li>"+
                  "<li>Platform: "+val['platform']+"</li>"+
                  "<li>Year: "+val['years']+"</li>"+
              "</ul>"+
              "<a href='https:\/\/cml-new.netlify.com\/"+val['url']+"' class='ProductBorderButton'>Price: "+val['price']+"</a>"+
            "</div>"+
          "</div>"+
        "</div>";
      });
      $("#productData").html(prodcuct);

      var pagination = "<a id='PreviousPage' href='#'>&laquo;</a>"+
      "<a id='currentPage' data-id='0'>Page: 1 Of "+res['nbPages']+"</a>"+
      "<a id='NextPage' href='#'>&raquo;</a>";
      $("#MyPaginationHere").html(pagination);
    });
  }else{
    $(this).removeAttr( "checked" )
    var MainSearch = []
    var BrandSearch = [], BrandArray = [];
    var SeriesSearch = [], SeriesArray = [];
    var SubseriesSearch = [], SubseriesArray = [];
    var YearSerach = [], YearArray = [];
    var PlatformSearch = [], PlatformArray = [];
    var Currency = [];
    Currency.push("currency:"+myLang)
    if(searchBrand){
      BrandSearch.push("make:"+searchBrand);
      $('.searchBrand').each(function(){
        if (this.checked) {
          if(searchBrand == "Bmw"){
            BrandArray.push("BMW");
          }else{
            BrandArray.push(searchBrand);
          }
        }
      });
    }else{
      $('.searchBrand').each(function(){
        if (this.checked) {
          BrandSearch.push("make:"+$(this).val());
          BrandArray.push($(this).val());
        }
      });
    }
    $('.searchSeries').each(function(){
      if (this.checked) {
        SeriesSearch.push("series:"+$(this).val());
        SeriesArray.push($(this).val());
      }
    });
    $('.searchSubSeries').each(function(){
      if (this.checked) {
        SubseriesSearch.push("subseries:"+$(this).val());
        SubseriesArray.push($(this).val());
      }
    });
    $('.searchYears').each(function(){
      if (this.checked) {
        YearSerach.push("years:"+$(this).val());
        YearArray.push($(this).val());
      }
    });
    $('.searchPlatform').each(function(){
      if (this.checked) {
        PlatformSearch.push("platform:"+$(this).val());
        PlatformArray.push($(this).val());
      }
    });

    MainSearch.push(BrandSearch);
    MainSearch.push(SeriesSearch);
    MainSearch.push(SubseriesSearch);
    MainSearch.push(YearSerach);
    MainSearch.push(PlatformSearch);
    MainSearch.push(Currency);

    index.search({
      query: '*',
      hitsPerPage: 9,
      facetFilters: MainSearch,
      facets: ['make','series','subseries','years','platform']
    }).then(res => {

      var BrandText = ""
      var SeriesText = ""
      var SubSeriesText = ""
      var YearsText = ""
      var PlatformText = ""
      var manualBrand = res.facets['make'];
      var manualSeries = res.facets['series'];
      var manualSubseries = res.facets['subseries']
      var manualYears = res.facets['years']
      var manualPlatform = res.facets['platform']

      $.each( manualBrand, function( key, value ) {
        if($.inArray(key,BrandArray) != -1){
          BrandText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchBrand mySearch' checked><span class='checkmark'></span></label>";
        }else{
          BrandText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchBrand mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#myBrand").html(BrandText);

      $.each( manualSeries, function( key, value ) {
        if($.inArray(key,SeriesArray) != -1){
          SeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSeries mySearch' checked><span class='checkmark'></span></label>";
        }else{
          SeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSeries mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#mySeries").html(SeriesText);

      $.each( manualSubseries, function( key, value ) {
        if($.inArray(key,SubseriesArray) != -1){
          SubSeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSubSeries mySearch' checked><span class='checkmark'></span></label>";
        }else{
          SubSeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSubSeries mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#mySubseries").html(SubSeriesText);

      $.each( manualYears, function( key, value ) {
        if($.inArray(key,YearArray) != -1){
          YearsText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchYears mySearch' checked><span class='checkmark'></span></label>";
        }else{
          YearsText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchYears mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#myYears").html(YearsText);

      $.each( manualPlatform, function( key, value ) {
        if($.inArray(key,PlatformArray) != -1){
          PlatformText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchPlatform mySearch' checked><span class='checkmark'></span></label>";
        }else{
          PlatformText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchPlatform mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#myPlatform").html(PlatformText);

      var prodcuct = ""
      $.each(res.hits, function( i, val ){
        prodcuct += "<div class='pure-u-1 pure-u-md-1-3'>"+
          "<div class='productBox'>"+
            "<div class='productImage'>"+
              "<a href='https:\/\/cml-new.netlify.com\/"+val['url']+"'><img src='"+val['catimage']+"' alt=''></a>"+
            "</div>"+
            "<div class='productDesc'>"+
              "<a href='https:\/\/cml-new.netlify.com\/"+val['url']+"'>"+val['manualname']+"</a><br>Rating: ";
              var empty = 5-val['rate'];
              for(var j=1;j<=val['rate'];j++){
                prodcuct += "<span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>"
              }
              for(var k=1;k<=empty;k++){
                prodcuct += "<span class='empty-myStart'><i class='fa fa-star' aria-hidden='true'></i></span>"
              }
        prodcuct += "<ul>"+
                  "<li>Make: "+val['make']+"</li>"+
                  "<li>Series: "+val['series']+"</li>"+
                  "<li>Subseries: "+val['subseries']+"</li>"+
                  "<li>Platform: "+val['platform']+"</li>"+
                  "<li>Year: "+val['years']+"</li>"+
              "</ul>"+
              "<a href='https:\/\/cml-new.netlify.com\/"+val['url']+"' class='ProductBorderButton'>Price: "+val['price']+"</a>"+
            "</div>"+
          "</div>"+
        "</div>";
      });
      $("#productData").html(prodcuct);

      var pagination = "<a id='PreviousPage' href='#'>&laquo;</a>"+
      "<a id='currentPage' data-id='0'>Page: 1 Of "+res['nbPages']+"</a>"+
      "<a id='NextPage' href='#'>&raquo;</a>";
      $("#MyPaginationHere").html(pagination);
    });
  }
});

$(document).on('click','#PreviousPage',function(){
  var page = $("#currentPage").data('id');
  var page = parseInt(page) -1;
  $("#currentPage").data('id', page)
  if(page > -1){
    var MainSearch = []
    var BrandSearch = [], BrandArray = [];
    var SeriesSearch = [], SeriesArray = [];
    var SubseriesSearch = [], SubseriesArray = [];
    var YearSerach = [], YearArray = [];
    var PlatformSearch = [], PlatformArray = [];
    var Currency = [];
    Currency.push("currency:"+myLang)
    if(searchBrand){
      BrandSearch.push("make:"+searchBrand);
      $('.searchBrand').each(function(){
        if (this.checked) {
          if(searchBrand == "Bmw"){
            BrandArray.push("BMW");
          }else{
            BrandArray.push(searchBrand);
          }
        }
      });
    }else{
      $('.searchBrand').each(function(){
        if (this.checked) {
          BrandSearch.push("make:"+$(this).val());
          BrandArray.push($(this).val());
        }
      });
    }
    $('.searchSeries').each(function(){
      if (this.checked) {
        SeriesSearch.push("series:"+$(this).val());
        SeriesArray.push($(this).val());
      }
    });
    $('.searchSubSeries').each(function(){
      if (this.checked) {
        SubseriesSearch.push("subseries:"+$(this).val());
        SubseriesArray.push($(this).val());
      }
    });
    $('.searchYears').each(function(){
      if (this.checked) {
        YearSerach.push("years:"+$(this).val());
        YearArray.push($(this).val());
      }
    });
    $('.searchPlatform').each(function(){
      if (this.checked) {
        PlatformSearch.push("platform:"+$(this).val());
        PlatformArray.push($(this).val());
      }
    });

    MainSearch.push(BrandSearch);
    MainSearch.push(SeriesSearch);
    MainSearch.push(SubseriesSearch);
    MainSearch.push(YearSerach);
    MainSearch.push(PlatformSearch);
    MainSearch.push(Currency);

    var searchvalue = $("#searchInput").val();
    index.search({
      query: searchvalue,
      hitsPerPage: 9,
      facetFilters: MainSearch,
      facets: ['make','series','subseries','years','platform'],
      page: page
    }).then(res => {
      console.log(res);
      var BrandText = ""
      var SeriesText = ""
      var SubSeriesText = ""
      var YearsText = ""
      var PlatformText = ""
      var manualBrand = res.facets['make'];
      var manualSeries = res.facets['series'];
      var manualSubseries = res.facets['subseries']
      var manualYears = res.facets['years']
      var manualPlatform = res.facets['platform']

      $.each( manualBrand, function( key, value ) {
        if($.inArray(key,BrandArray) != -1){
          BrandText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchBrand mySearch' checked><span class='checkmark'></span></label>";
        }else{
          BrandText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchBrand mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#myBrand").html(BrandText);

      $.each( manualSeries, function( key, value ) {
        if($.inArray(key,SeriesArray) != -1){
          SeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSeries mySearch' checked><span class='checkmark'></span></label>";
        }else{
          SeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSeries mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#mySeries").html(SeriesText);

      $.each( manualSubseries, function( key, value ) {
        if($.inArray(key,SubseriesArray) != -1){
          SubSeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSubSeries mySearch' checked><span class='checkmark'></span></label>";
        }else{
          SubSeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSubSeries mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#mySubseries").html(SubSeriesText);

      $.each( manualYears, function( key, value ) {
        if($.inArray(key,YearArray) != -1){
          YearsText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchYears mySearch' checked><span class='checkmark'></span></label>";
        }else{
          YearsText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchYears mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#myYears").html(YearsText);

      $.each( manualPlatform, function( key, value ) {
        if($.inArray(key,PlatformArray) != -1){
          PlatformText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchPlatform mySearch' checked><span class='checkmark'></span></label>";
        }else{
          PlatformText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchPlatform mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#myPlatform").html(PlatformText);
      if(res.hits.length == 0){
        alert("You Reached Minimum Number of Page")
      }else{
        var prodcuct = ""
        $.each(res.hits, function( i, val ){
          prodcuct += "<div class='pure-u-1 pure-u-md-1-3'>"+
            "<div class='productBox'>"+
              "<div class='productImage'>"+
                "<a href='https:\/\/cml-new.netlify.com\/"+val['url']+"'><img src='"+val['catimage']+"' alt=''></a>"+
              "</div>"+
              "<div class='productDesc'>"+
                "<a href='https:\/\/cml-new.netlify.com\/"+val['url']+"'>"+val['manualname']+"</a><br>Rating: ";
                var empty = 5-val['rate'];
                for(var j=1;j<=val['rate'];j++){
                  prodcuct += "<span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>"
                }
                for(var k=1;k<=empty;k++){
                  prodcuct += "<span class='empty-myStart'><i class='fa fa-star' aria-hidden='true'></i></span>"
                }
          prodcuct += "<ul>"+
                    "<li>Make: "+val['make']+"</li>"+
                    "<li>Series: "+val['series']+"</li>"+
                    "<li>Subseries: "+val['subseries']+"</li>"+
                    "<li>Platform: "+val['platform']+"</li>"+
                    "<li>Year: "+val['years']+"</li>"+
                "</ul>"+
                "<a href='https:\/\/cml-new.netlify.com\/"+val['url']+"' class='ProductBorderButton'>Price: "+val['price']+"</a>"+
              "</div>"+
            "</div>"+
          "</div>";
        });
        $("#productData").html(prodcuct);
      }
      var pagination = "<a id='PreviousPage'>&laquo;</a>"+
      "<a id='currentPage' data-id='"+res['page']+"'>Page: "+res['page']+" Of "+res['nbPages']+"</a>"+
      "<a id='NextPage' class='active'>&raquo;</a>";
      $("#MyPaginationHere").html(pagination);
    });
  }else {
    alert("You Reached Minimum Number of Page");
  }
});

$(document).on('click','#NextPage',function(){
  var page = $("#currentPage").data('id');
  var page = parseInt(page) +1;
  $("#currentPage").data('id', page)
  if(page > 0){
    var MainSearch = []
    var BrandSearch = [], BrandArray = [];
    var SeriesSearch = [], SeriesArray = [];
    var SubseriesSearch = [], SubseriesArray = [];
    var YearSerach = [], YearArray = [];
    var PlatformSearch = [], PlatformArray = [];
    var Currency = [];
    Currency.push("currency:"+myLang)

    if(searchBrand){
      BrandSearch.push("make:"+searchBrand);
      $('.searchBrand').each(function(){
        if (this.checked) {
          if(searchBrand == "Bmw"){
            BrandArray.push("BMW");
          }else{
            BrandArray.push(searchBrand);
          }
        }
      });
    }else{
      $('.searchBrand').each(function(){
        if (this.checked) {
          BrandSearch.push("make:"+$(this).val());
          BrandArray.push($(this).val());
        }
      });
    }
    $('.searchSeries').each(function(){
      if (this.checked) {
        SeriesSearch.push("series:"+$(this).val());
        SeriesArray.push($(this).val());
      }
    });
    $('.searchSubSeries').each(function(){
      if (this.checked) {
        SubseriesSearch.push("subseries:"+$(this).val());
        SubseriesArray.push($(this).val());
      }
    });
    $('.searchYears').each(function(){
      if (this.checked) {
        YearSerach.push("years:"+$(this).val());
        YearArray.push($(this).val());
      }
    });
    $('.searchPlatform').each(function(){
      if (this.checked) {
        PlatformSearch.push("platform:"+$(this).val());
        PlatformArray.push($(this).val());
      }
    });

    MainSearch.push(BrandSearch);
    MainSearch.push(SeriesSearch);
    MainSearch.push(SubseriesSearch);
    MainSearch.push(YearSerach);
    MainSearch.push(PlatformSearch);
    MainSearch.push(Currency);
    var searchvalue = $("#searchInput").val();
    index.search({
      query: searchvalue,
      hitsPerPage: 9,
      facetFilters: MainSearch,
      facets: ['make','series','subseries','years','platform'],
      page: page
    }).then(res => {
      console.log(res);
      var BrandText = ""
      var SeriesText = ""
      var SubSeriesText = ""
      var YearsText = ""
      var PlatformText = ""
      var manualBrand = res.facets['make'];
      var manualSeries = res.facets['series'];
      var manualSubseries = res.facets['subseries']
      var manualYears = res.facets['years']
      var manualPlatform = res.facets['platform']

      $.each( manualBrand, function( key, value ) {
        if($.inArray(key,BrandArray) != -1){
          BrandText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchBrand mySearch' checked><span class='checkmark'></span></label>";
        }else{
          BrandText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchBrand mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#myBrand").html(BrandText);

      $.each( manualSeries, function( key, value ) {
        if($.inArray(key,SeriesArray) != -1){
          SeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSeries mySearch' checked><span class='checkmark'></span></label>";
        }else{
          SeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSeries mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#mySeries").html(SeriesText);

      $.each( manualSubseries, function( key, value ) {
        if($.inArray(key,SubseriesArray) != -1){
          SubSeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSubSeries mySearch' checked><span class='checkmark'></span></label>";
        }else{
          SubSeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSubSeries mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#mySubseries").html(SubSeriesText);

      $.each( manualYears, function( key, value ) {
        if($.inArray(key,YearArray) != -1){
          YearsText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchYears mySearch' checked><span class='checkmark'></span></label>";
        }else{
          YearsText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchYears mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#myYears").html(YearsText);

      $.each( manualPlatform, function( key, value ) {
        if($.inArray(key,PlatformArray) != -1){
          PlatformText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchPlatform mySearch' checked><span class='checkmark'></span></label>";
        }else{
          PlatformText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchPlatform mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#myPlatform").html(PlatformText);
      if(res.hits.length == 0){
        alert("You Reached Maximum Number of Page")
      }else{
        var prodcuct = ""
        $.each(res.hits, function( i, val ){
          prodcuct += "<div class='pure-u-1 pure-u-md-1-3'>"+
            "<div class='productBox'>"+
              "<div class='productImage'>"+
                "<a href='https:\/\/cml-new.netlify.com\/"+val['url']+"'><img src='"+val['catimage']+"' alt=''></a>"+
              "</div>"+
              "<div class='productDesc'>"+
                "<a href='https:\/\/cml-new.netlify.com\/"+val['url']+"'>"+val['manualname']+"</a><br>Rating: ";
                var empty = 5-val['rate'];
                for(var j=1;j<=val['rate'];j++){
                  prodcuct += "<span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>"
                }
                for(var k=1;k<=empty;k++){
                  prodcuct += "<span class='empty-myStart'><i class='fa fa-star' aria-hidden='true'></i></span>"
                }
          prodcuct += "<ul>"+
                    "<li>Make: "+val['make']+"</li>"+
                    "<li>Series: "+val['series']+"</li>"+
                    "<li>Subseries: "+val['subseries']+"</li>"+
                    "<li>Platform: "+val['platform']+"</li>"+
                    "<li>Year: "+val['years']+"</li>"+
                "</ul>"+
                "<a href='https:\/\/cml-new.netlify.com\/"+val['url']+"' class='ProductBorderButton'>Price: "+val['price']+"</a>"+
              "</div>"+
            "</div>"+
          "</div>";
        });
        var pagination = "<a id='PreviousPage'>&laquo;</a>"+
        "<a id='currentPage' data-id='"+res['page']+"'>Page: "+res['page']+" Of "+res['nbPages']+"</a>"+
        "<a id='NextPage' class='active'>&raquo;</a>";
        $("#MyPaginationHere").html(pagination);
      }
    });
  }else{
    alert("You Reached Maximum Number of Page")
  }
});

$(document).on('keyup', '#searchInput', function(){
  if(searchBrand){
    var MainSearch = []
    var BrandSearch = [], BrandArray = [];
    var SeriesSearch = [], SeriesArray = [];
    var SubseriesSearch = [], SubseriesArray = [];
    var YearSerach = [], YearArray = [];
    var PlatformSearch = [], PlatformArray = [];
    var Currency = [];
    Currency.push("currency:"+myLang)
    BrandSearch.push("make:"+searchBrand);
    $('.searchSeries').each(function(){
      if (this.checked) {
        SeriesSearch.push("series:"+$(this).val());
        SeriesArray.push($(this).val());
      }
    });
    $('.searchSubSeries').each(function(){
      if (this.checked) {
        SubseriesSearch.push("subseries:"+$(this).val());
        SubseriesArray.push($(this).val());
      }
    });
    $('.searchYears').each(function(){
      if (this.checked) {
        YearSerach.push("years:"+$(this).val());
        YearArray.push($(this).val());
      }
    });
    $('.searchPlatform').each(function(){
      if (this.checked) {
        PlatformSearch.push("platform:"+$(this).val());
        PlatformArray.push($(this).val());
      }
    });
    var searchvalue = $(this).val();
    MainSearch.push(BrandSearch);
    MainSearch.push(SeriesSearch);
    MainSearch.push(SubseriesSearch);
    MainSearch.push(YearSerach);
    MainSearch.push(PlatformSearch);
    MainSearch.push(Currency);
    index.search({
      query: searchvalue,
      hitsPerPage: 9,
      facetFilters: MainSearch,
      facets: ['make','series','subseries','years','platform']
    }).then(res => {
      console.log(res);
      var BrandText = ""
      var SeriesText = ""
      var SubSeriesText = ""
      var YearsText = ""
      var PlatformText = ""
      var manualBrand = res.facets['make'];
      var manualSeries = res.facets['series'];
      var manualSubseries = res.facets['subseries']
      var manualYears = res.facets['years']
      var manualPlatform = res.facets['platform']

      $.each( manualBrand, function( key, value ) {
        if($.inArray(key,BrandArray) != -1){
          BrandText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchBrand mySearch' checked><span class='checkmark'></span></label>";
        }else{
          BrandText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchBrand mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#myBrand").html(BrandText);

      $.each( manualSeries, function( key, value ) {
        if($.inArray(key,SeriesArray) != -1){
          SeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSeries mySearch' checked><span class='checkmark'></span></label>";
        }else{
          SeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSeries mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#mySeries").html(SeriesText);

      $.each( manualSubseries, function( key, value ) {
        if($.inArray(key,SubseriesArray) != -1){
          SubSeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSubSeries mySearch' checked><span class='checkmark'></span></label>";
        }else{
          SubSeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSubSeries mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#mySubseries").html(SubSeriesText);

      $.each( manualYears, function( key, value ) {
        if($.inArray(key,YearArray) != -1){
          YearsText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchYears mySearch' checked><span class='checkmark'></span></label>";
        }else{
          YearsText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchYears mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#myYears").html(YearsText);

      $.each( manualPlatform, function( key, value ) {
        if($.inArray(key,PlatformArray) != -1){
          PlatformText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchPlatform mySearch' checked><span class='checkmark'></span></label>";
        }else{
          PlatformText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchPlatform mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#myPlatform").html(PlatformText);
      if(res.hits.length == 0){
        alert("No Search Found")
      }else{
        var prodcuct = ""
        $.each(res.hits, function( i, val ){
          prodcuct += "<div class='pure-u-1 pure-u-md-1-3'>"+
            "<div class='productBox'>"+
              "<div class='productImage'>"+
                "<a href='https:\/\/cml-new.netlify.com\/"+val['url']+"'><img src='"+val['catimage']+"' alt=''></a>"+
              "</div>"+
              "<div class='productDesc'>"+
                "<a href='https:\/\/cml-new.netlify.com\/"+val['url']+"'>"+val['manualname']+"</a><br>Rating: ";
                var empty = 5-val['rate'];
                for(var j=1;j<=val['rate'];j++){
                  prodcuct += "<span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>"
                }
                for(var k=1;k<=empty;k++){
                  prodcuct += "<span class='empty-myStart'><i class='fa fa-star' aria-hidden='true'></i></span>"
                }
          prodcuct += "<ul>"+
                    "<li>Make: "+val['make']+"</li>"+
                    "<li>Series: "+val['series']+"</li>"+
                    "<li>Subseries: "+val['subseries']+"</li>"+
                    "<li>Platform: "+val['platform']+"</li>"+
                    "<li>Year: "+val['years']+"</li>"+
                "</ul>"+
                "<a href='https:\/\/cml-new.netlify.com\/"+val['url']+"' class='ProductBorderButton'>Price: "+val['price']+"</a>"+
              "</div>"+
            "</div>"+
          "</div>";
        });
        $("#productData").html(prodcuct);
      }
      var pagination = "<a id='PreviousPage'>&laquo;</a>"+
      "<a id='currentPage' data-id='"+res['page']+"'>Page: 1 Of "+res['nbPages']+"</a>"+
      "<a id='NextPage' class='active'>&raquo;</a>";
      $("#MyPaginationHere").html(pagination);
    });
  }else{
    var MainSearch = []
    var BrandSearch = [], BrandArray = [];
    var SeriesSearch = [], SeriesArray = [];
    var SubseriesSearch = [], SubseriesArray = [];
    var YearSerach = [], YearArray = [];
    var PlatformSearch = [], PlatformArray = [];
    var Currency = [];
    Currency.push("currency:"+myLang)
    $('.searchBrand').each(function(){
      if (this.checked) {
        BrandSearch.push("make:"+$(this).val());
        BrandArray.push($(this).val());
      }
    });
    $('.searchSeries').each(function(){
      if (this.checked) {
        SeriesSearch.push("series:"+$(this).val());
        SeriesArray.push($(this).val());
      }
    });
    $('.searchSubSeries').each(function(){
      if (this.checked) {
        SubseriesSearch.push("subseries:"+$(this).val());
        SubseriesArray.push($(this).val());
      }
    });
    $('.searchYears').each(function(){
      if (this.checked) {
        YearSerach.push("years:"+$(this).val());
        YearArray.push($(this).val());
      }
    });
    $('.searchPlatform').each(function(){
      if (this.checked) {
        PlatformSearch.push("platform:"+$(this).val());
        PlatformArray.push($(this).val());
      }
    });
    var searchvalue = $(this).val();
    MainSearch.push(BrandSearch);
    MainSearch.push(SeriesSearch);
    MainSearch.push(SubseriesSearch);
    MainSearch.push(YearSerach);
    MainSearch.push(PlatformSearch);
    MainSearch.push(Currency);
    index.search({
      query: searchvalue,
      hitsPerPage: 9,
      facetFilters: MainSearch,
      facets: ['make','series','subseries','years','platform']
    }).then(res => {
      console.log(res);
      var BrandText = ""
      var SeriesText = ""
      var SubSeriesText = ""
      var YearsText = ""
      var PlatformText = ""
      var manualBrand = res.facets['make'];
      var manualSeries = res.facets['series'];
      var manualSubseries = res.facets['subseries']
      var manualYears = res.facets['years']
      var manualPlatform = res.facets['platform']

      $.each( manualBrand, function( key, value ) {
        if($.inArray(key,BrandArray) != -1){
          BrandText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchBrand mySearch' checked><span class='checkmark'></span></label>";
        }else{
          BrandText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchBrand mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#myBrand").html(BrandText);

      $.each( manualSeries, function( key, value ) {
        if($.inArray(key,SeriesArray) != -1){
          SeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSeries mySearch' checked><span class='checkmark'></span></label>";
        }else{
          SeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSeries mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#mySeries").html(SeriesText);

      $.each( manualSubseries, function( key, value ) {
        if($.inArray(key,SubseriesArray) != -1){
          SubSeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSubSeries mySearch' checked><span class='checkmark'></span></label>";
        }else{
          SubSeriesText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchSubSeries mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#mySubseries").html(SubSeriesText);

      $.each( manualYears, function( key, value ) {
        if($.inArray(key,YearArray) != -1){
          YearsText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchYears mySearch' checked><span class='checkmark'></span></label>";
        }else{
          YearsText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchYears mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#myYears").html(YearsText);

      $.each( manualPlatform, function( key, value ) {
        if($.inArray(key,PlatformArray) != -1){
          PlatformText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchPlatform mySearch' checked><span class='checkmark'></span></label>";
        }else{
          PlatformText += "<label class='container'>"+key+"<input type='checkbox' value='"+key+"' class='searchPlatform mySearch'><span class='checkmark'></span></label>";
        }
      });
      $("#myPlatform").html(PlatformText);
      if(res.hits.length == 0){
        alert("No Search Found")
      }else{
        var prodcuct = ""
        $.each(res.hits, function( i, val ){
          prodcuct += "<div class='pure-u-1 pure-u-md-1-3'>"+
            "<div class='productBox'>"+
              "<div class='productImage'>"+
                "<a href='https:\/\/cml-new.netlify.com\/"+val['url']+"'><img src='"+val['catimage']+"' alt=''></a>"+
              "</div>"+
              "<div class='productDesc'>"+
                "<a href='https:\/\/cml-new.netlify.com\/"+val['url']+"'>"+val['manualname']+"</a><br>Rating: ";
                var empty = 5-val['rate'];
                for(var j=1;j<=val['rate'];j++){
                  prodcuct += "<span class='myStart'><i class='fa fa-star' aria-hidden='true'></i></span>"
                }
                for(var k=1;k<=empty;k++){
                  prodcuct += "<span class='empty-myStart'><i class='fa fa-star' aria-hidden='true'></i></span>"
                }
          prodcuct += "<ul>"+
                    "<li>Make: "+val['make']+"</li>"+
                    "<li>Series: "+val['series']+"</li>"+
                    "<li>Subseries: "+val['subseries']+"</li>"+
                    "<li>Platform: "+val['platform']+"</li>"+
                    "<li>Year: "+val['years']+"</li>"+
                "</ul>"+
                "<a href='https:\/\/cml-new.netlify.com\/"+val['url']+"' class='ProductBorderButton'>Price: "+val['price']+"</a>"+
              "</div>"+
            "</div>"+
          "</div>";
        });
        $("#productData").html(prodcuct);
      }
      var pagination = "<a id='PreviousPage'>&laquo;</a>"+
      "<a id='currentPage' data-id='"+res['page']+"'>Page: 1 Of "+res['nbPages']+"</a>"+
      "<a id='NextPage' class='active'>&raquo;</a>";
      $("#MyPaginationHere").html(pagination);
    });
  }
});
</script>


  </div>
      <div class="footerLayout">
        <div class="pure-g" style="text-align:center;">
            <div class="pure-u-1 pure-u-md-1-3">
              <h4>Footer Layout 1</h4>
            </div>
            <div class="pure-u-1 pure-u-md-1-3">
              <h4>Footer Layout 2</h4>
            </div>
            <div class="pure-u-1 pure-u-md-1-3">
              <h4>
                Currency:&nbsp;
                <select id="state" style="color:black;">
                    <option value="usd">USD</option>
                    <option value="aud">AUD</option>
                    <option value="cad">CAD</option>
                    <option value="chf">CHF</option>
                    <option value="eur">EUR</option>
                    <option value="gbp">GBP</option>
                    <option value="hkd">HKD</option>
                    <option value="inr">INR</option>
                    <option value="nzd">NZD</option>
                    <option value="sgd">SGD</option>
                    <option value="zar">ZAR</option>
                </select>
              </h4>
            </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://cml-new.netlify.com/js/ui.js"></script>
  <input type="hidden" id="myBaseUrl" value="https://cml-new.netlify.com/">
  <input type="hidden" id="myLang" value="usd">
  <script type="text/javascript">
    $(document).ready(function(){
      var myLang = $("#myLang").val();
      $("#state").val(myLang)
      $("#state").change(function(){
        window.location.href = $("#myBaseUrl").val()+$(this).val();
      });
    });
  </script>
</body>
</html>

